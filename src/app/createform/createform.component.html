<form [formGroup]="form" class="form-group">
  <div [ngSwitch]="input.controlType">
    <mat-card-content>
      <div *ngSwitchCase="'textbox'">
        <div class="col-md-6">
          <mat-form-field>
            <label [attr.for]="input.key+index">{{ input.label }}</label>
            <input autofocus matInput class="form-control" [formControlName]="input.key" [id]="input.key+index"
              [type]="input.type" />
            <mat-error *ngIf="this.form.controls[this.input.key].invalid">{{getErrorMessage()}}</mat-error>
            <!-- <mat-error *ngIf="!'[formControlName]'.valid && !email.hasError('required')"> -->
            <!-- Please enter a valid email address -->
            <!-- </mat-error> -->
            <!-- <div *ngIf="[formControlType]=email"></div> -->
          </mat-form-field>
          <!-- <mat-error *ngIf="this.form.controls.['formControlName'].hasError('email')" > Email is invalid</mat-error> -->
        </div>
      </div>
      <!-- </mat-card-content> -->

      <!-- <mat-card-content> -->

      <div *ngSwitchCase="'dropdown'">
        <!-- <mat-form-field>
          <mat-label [attr.for]="input.key">{{input.label}}</mat-label>

          <mat-select [id]="input.key" [formControlName]="input.key">
            <mat-option *ngFor="let opt of input.options" [value]="opt.key">{{opt.value}}</mat-option>
          </mat-select>
        </mat-form-field> -->

        <mat-form-field>
          <mat-label [attr.for]="input.key+index">{{ input.label }}</mat-label>
          <mat-select [id]="input.key+index" [formControlName]="input.key">
            <mat-option *ngFor="let opt of input.options" [value]="opt.key">{{
              opt.value
              }}</mat-option>
          </mat-select>
          <mat-error *ngIf="this.form.controls[this.input.key].invalid">{{getErrorMessage()}}</mat-error>
        </mat-form-field>
        <!-- <div class="col-md-6"> -->
        <!-- <mat-form-field> -->

        <!-- <mat-label [attr.for]="input.key">{{input.label}}</mat-label> -->
        <!-- <mat-form-field> -->

        <!-- <mat-select  placeholder="Select" class="custom-select" [id]="input.key" [formControlName]="input.key">  -->

        <!-- </mat-select> -->
        <!-- <mat-option  *ngFor="let opt of input.options" [value]="opt.key">{{opt.value}}</mat-option> -->
        <!-- <mat-option autofocus  *ngFor="let opt of input.options" [value]="opt.key">{{opt.value}}</mat-option> -->
        <!-- </mat-form-field> -->
        <!-- </mat-select> -->
        <!-- <mat-form-field> -->
          

        <!-- </div> -->
        <!-- </select> -->
      </div>
      <!-- </mat-card-content> -->

      <!-- <mat-card-content> -->
      <div *ngSwitchCase="'checkbox'">
        <!-- <mat-form-field> -->

        <div class="form-check">
          <mat-checkbox autofocus class="form-check-input" type="checkbox" [formControlName]="input.key"
            [id]="input.key+index"></mat-checkbox>
          <label class="form-check-label" [attr.for]="input.key+index">{{
            input.label
            }}</label>
        </div>
        <!-- </mat-form-field> -->
      </div>
      <!-- </mat-card-content> -->

      <!-- <mat-card-content> -->

      <!-- <div *ngSwitchCase="'radio'">
          <div class="col-md-6">
            <mat-radio-group
              class="form-check form-check-inline"
              *ngFor="let opt of input.options"
            >
              <mat-radio-button
                
                class="form-check-input"
                type="radio"
                [formControlName]="input.key"
                [id]="input.key"
                [value]="opt.value"
              ></mat-radio-button>
              <mat-label class="form-check-label" [attr.for]="opt.key">
                {{ opt.value }}
              </mat-label>
            </mat-radio-group>
          </div>
        </div> -->
      <!-- </mat-card-content> -->

      <!-- <mat-card-content> -->

      <div *ngSwitchCase="'textarea'">
        <mat-form-field>
          <mat-label [attr.for]="input.key+index">{{ input.label }}</mat-label>
          <textarea autofocus matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="15" maxlength="256" class="form-control" [formControlName]="input.key"
            [id]="input.key+index" rows="2"></textarea>
          <mat-hint align="start"><strong>Character max length:256</strong> </mat-hint>
        </mat-form-field>
      </div>
    </mat-card-content>
  </div>
</form>